<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<script src="/js/jquery.min.js"></script>
	<title>Whackamole Project</title>
	<link rel="stylesheet" type="text/css" href="/css/styles.css">
	<style type="text/css">
		body  {
    		background-image: url("img/background.jpg");
    		background-color: #cccccc;
		}
	</style>
</head>

<body>

	<audio src="sounds/dj_scratch.mp3" id="dj"></audio>
	<audio src="sounds/hit.wav" id="hit"></audio>
	<audio src="sounds/cat_purr.wav" id="belly"></audio>
	<audio src="sounds/cat_meow.wav" id="head"></audio>

	<div class="box-container" id="main-container">
		<div class="catbox" id="box-1" >
			<!-- <img> -->
		</div>

		<div class="catbox" id="box-2" >
			<!-- <img> -->
		</div>

		<div class="catbox" id="box-3" >
			<!-- <img> -->
		</div>

		<div class="catbox" id="box-4" >
			<!-- <img> -->
		</div>

		<div class="catbox" id="box-5" >
			<!-- <img> -->
		</div>

		<div class="catbox" id="box-6" >
			<!-- <img> -->
		</div>

		<div class="catbox" id="box-7" >
			<!-- <img> -->
		</div>

		<div class="catbox" id="box-8" >
			<!-- <img> -->
		</div>

		<div class="catbox" id="box-9" >
			<!-- <img> -->
		</div>

		<div class="scoreboard" id="box-10" >
			<button type="button" id="starter">Start</button>
			<h2>Time: <span id="timer"></span><br></h2>
			<h2>Hits: <span id="catHits"></span><br></h2>
		</div>
		<div id="dj-kitty">
		</div>
		<div id="cat-head">
		</div><div id="cat-belly">
		</div>
	</div>

	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

	<script type="text/javascript">

	$('document').ready(function() {

		// Initalize variable to use in 
		var hits = 0;

		// Initialize variable to use in setInterval
		var randomNumber = null;

		// Define Array for Gameboard
		var gameboard = $(".box-container").children();
			// console.log(gameboard);

		// Set variables for timer
		var count = 1;
			// console.log(count);

		var maxCount = 30;

		var gameTimer = 30;

		var activeBox;

		// console.log(gameTimer);
		// generate a number for random selection of div
		function getRandomInt() {
			return Math.floor(Math.random() * (10 + 0) + 0);
		}


		function catWhack() {

			// Remove all previous event li
			// $('.catbox').off();
			$('.catbox').removeClass('active');

			// $(".catbox").on('click', function(){
			// 	var is_clicked = $(this).hasClass( "active" );
			// 	if(is_clicked) {
			// 		$("#hit").trigger("play");
			// 	}
			// });
			
			$('#box-' + randomNumber).addClass('active');
			// Add an event listener to this one individual box
			$('#box-' + randomNumber).click(function(){
				console.log('clicked!');
				$("#hit").trigger("play");
				hits++;
				// $('#box-' + randomNumber).hide();
				console.log(catHits);
			}); 

			

			// Remove all event listeners on everything with class active
			// $('.catbox').removeClass('active');


			
		}

		function startGame() {

			// console.log('test');
			// Remove Event Listener to Start Button
			$('#starter').off();

			var intervalId = setInterval(function () {
				// console.log(intervalId);
				gameTimer--;

				// Generate Random Num
				randomNumber = getRandomInt();
				// console.log(randomNumber);

				// Call catWhack
				catWhack();
				
				/*-----------------*/
				// $(activeBox).removeClass('active');

				// $(activeBox).off();

				// activeBox = $('#box-' + randomNumber);

				// activeBox.addClass('active');

				// activeBox.click(function(){
				// 	$("#hit").trigger("play");
				// });

				// $(activeBox).click(function(){
				// 	console.log('clicked!');
				// 	hits++;
				// 	$('#box-' + randomNumber).off();
				// 	console.log(catHits);

				// });
				/*-----------------*/


	        	// Update the timer div with the new value
	        	$('#timer').html(gameTimer);

	        	// Update the hits div with the new value
	        	$('#catHits').html(hits);

		        if (gameTimer == 0) {
		            console.log('Time is up.');
		            clearInterval(intervalId);
				}
			},1000);
		}

		// Add Event Listener to Start Button
		$('#starter').click(startGame);

		$("#dj-kitty").click(function(){
			$("#dj").trigger("play");
		});

		$("#cat-belly").click(function(){
			$("#belly").trigger("play");
		});

		$("#cat-head").click(function(){
			$("#head").trigger("play");
		});

	});

		</script>

		<!-- Latest compiled and minified JavaScript -->
		<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js">
		</script>

	</body>
	</html>